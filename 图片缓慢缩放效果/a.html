<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
		<style type="text/css">
			h1{
				text-align: center;
			}
			div{
				width: 400px;
				margin: 0 auto;
			}
		</style>
	</head>
	<body>
		<h1>用JavaScript实现图片缓慢缩放效果</h1>
		<p>setInterval(fun,time):每隔一段时间执行一次规定的函数，一直循环下去，时间以毫秒为单位。</p>
		<p style="padding: 20px;">eg:var timer = setInterval(function(){alert(1);},1000);</p>
		<p>clearInterval(timer):清楚时间函数，终止时间函数继续执行。</p>
		<p style="padding: 20px;">eg:clearInter(timer);</p>
		<p style="color:orange;">eg:增加尺寸：30%；动画时间：120毫秒，即每隔20毫秒增加5%</p>
		<div>
			<img src="img/missFortune.png" id="miss"/><br />
			<input type="button" id="max" value="放大" />
			<input type="button" id="min" value="缩小" />
		</div>
		
		<script type="text/javascript">
			window.onload = function(){
				var maxBtn = document.getElementById("max");
				maxBtn.onclick = function(){//添加放大点击事件
					maxFun();//放大函数	
				}
				var img = document.getElementById("miss");
				var maxWidth = img.width*2;//放大宽度的极限值
				var maxHeight = img.height*2;//放大宽度的极限值
				//定义放大函数
				function maxFun(){
					var endWidth = img.width*1.3;//每次点击后的宽度
					var endHeight = img.height*1.3;//每次点击后的宽度
					var maxTimer = setInterval(function(){
						if(img.width < endWidth){
							if(img.width < maxWidth){
								img.width = img.width*1.05;
								img.height = img.height*1.05;
							}else{
								clearInterval(maxTimer);
								alert("已放大到最大值！");
							}
						}else{
							clearInterval(maxTimer);
						}
					},20);
				}
				
				//定义缩小函数
				var minBtn = document.getElementById("min");
				minBtn.onclick = function(){//添加缩小点击事件
					minFun();//缩小函数
				}
				
				var minWidth = img.width*0.5;//缩小宽度的极限值
				var minHeight = img.height*0.5;//缩小宽度的极限值
				function minFun(){
					var endWidth = img.width*0.7;//每次点击后的宽度
					var endHeight = img.height*0.7;//每次点击后的宽度
					var maxTimer = setInterval(function(){
						if(img.width > endWidth){
							if(img.width > minWidth){
								img.width = img.width*0.95;
								img.height = img.height*0.95;
							}else{
								clearInterval(maxTimer);
								alert("已缩小到最小值！");
							}
						}else{
							clearInterval(maxTimer);
						}
					},20);
				}
			}
		</script>
		
	</body>
</html>
